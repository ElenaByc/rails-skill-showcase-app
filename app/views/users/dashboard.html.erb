<h1 class="text-primary text-center mb-4"><%= @user.name %>'s Dashboard</h1>
<h2 class="text-primary mb-4">Certificates</h2>

<% @certificates.each do |certificate| %>
  <div class="card mb-3">
    <div class="card-body d-flex flex-column flex-md-row justify-content-between align-items-center">
      <div class="mb-2 mb-md-0">
        <h5 class="card-title mb-0">
          <strong><%= certificate.name %></strong>
        </h5>
        <p class="card-text mb-0 text-muted">
          Issued on <%= certificate.issued_on %> from <%= certificate.issuer.name %>
        </p>
        <% if certificate.skills.any? %>
          <small class="text-muted">
            <em>Skills:</em> <%= certificate.skills.map(&:name).join(", ") %>
          </small>
        <% end %>
      </div>
      <div class="d-flex gap-2">
        <%= link_to "Details", certificate_path(certificate), class: "btn btn-outline-primary btn-sm" %>
        <%= link_to "Edit", edit_certificate_path(certificate), class: "btn btn-outline-primary btn-sm" %>
        <button type="button" class="btn btn-outline-danger btn-sm" data-bs-toggle="modal" data-bs-target="#deleteCertificateModal<%= certificate.id %>">
          Delete
        </button>
      </div>
    </div>
  </div>
<% end %>

<br>

<p class="text-center mb-4"><%= link_to "Add New Certificate", new_certificate_path, class: "btn btn-primary" %></p>

<div class="text-center mb-4 mt-5">
  <%= link_to "Manage Skills", user_skills_path(@user), class: "btn btn-outline-primary me-5" %>
  <%= link_to "Manage Issuers", user_issuers_path(@user), class: "btn btn-outline-primary" %>
</div>
<br>

<h2 class="text-primary mb-4">Projects</h2>

<div class="card mb-4">
  <div class="card-body text-center">
    <h5 class="card-title text-muted">ðŸš€ Coming Soon!</h5>
    <p class="card-text text-muted">Showcase your projects and demonstrate your skills in action!</p>
    <p class="card-text"><small class="text-muted">Connect GitHub repos, demos, and portfolios to your skills</small></p>
  </div>
</div>


<!-- Delete Confirmation Modals -->
<% @certificates.each do |certificate| %>
  <div class="modal fade" id="deleteCertificateModal<%= certificate.id %>" tabindex="-1" aria-labelledby="deleteCertificateModalLabel<%= certificate.id %>" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="deleteCertificateModalLabel<%= certificate.id %>">Confirm Delete</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <p>You are about to delete the certificate <strong>"<%= certificate.name %>"</strong>.</p>
          <p class="text-danger">This action cannot be undone.</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
          <%= link_to "Delete Certificate", certificate_path(certificate), class: "btn btn-outline-danger", data: { turbo_method: :delete } %>
        </div>
      </div>
    </div>
  </div>
<% end %>
